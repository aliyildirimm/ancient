<!doctype html>
<html>
  <body style="margin:0;background:#111; width: 100%; height: 100%">
    <div style="text-align:center; margin-bottom:10px;">
        <button data-cam="1">Camera 1 (Left)</button>
        <button data-cam="2">Camera 2 (Center)</button>
        <button data-cam="3">Camera 3 (Right)</button>
      </div>
    <canvas data-canvas></canvas>
    <script  type="importmap">{
        "imports": {
            "three": "https://threejs.org/build/three.module.js",
            "three/addons/": "https://threejs.org/examples/jsm/" 
        }
    }</script>
    <script type="module">
        import { scene } from './scene.js'
        window.onload = () => {
            const canvas = document.querySelector("[data-canvas]");
            if (!(canvas instanceof HTMLCanvasElement)) {
              throw new Error("Canvas not found for selector: '[data-canvas]'");
            }

            const scene1 = scene(canvas);

            window.addEventListener("keydown", scene1.handleKeyboardEvents);
            window.addEventListener("keyup", scene1.handleKeyboardEvents);

            document.querySelectorAll("[data-cam]").forEach((btn) => {
            btn.addEventListener("click", () => {
                const camIndex = btn.getAttribute("data-cam");
                scene1.handleCameraChangeEvent(camIndex);
              });
          });

          scene1.animate();
        }
    </script>
  </body>
</html>